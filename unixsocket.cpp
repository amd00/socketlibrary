
#include "unixsocket.h"

////////////////////////////////////////////////////////////////////////////////////

UnixSocket::UnixSocket(const char* path) : Socket()
{
	memset(&addr, 0, sizeof(addr));
	addr.sun_family = AF_UNIX;
	strcpy(addr.sun_path, path ? path : "");
}

////////////////////////////////////////////////////////////////////////////////////

UnixSocket::UnixSocket(int fd) : Socket(fd)
{
}

////////////////////////////////////////////////////////////////////////////////////

UnixSocket::~UnixSocket()
{
}

////////////////////////////////////////////////////////////////////////////////////

bool UnixSocket::Connect()
{
	return Socket::Connect(PF_UNIX, SOCK_STREAM, (sockaddr*)&addr, sizeof(addr));
}

////////////////////////////////////////////////////////////////////////////////////

const char* UnixSocket::Address()
{
	return addr.sun_path;
}

////////////////////////////////////////////////////////////////////////////////////

